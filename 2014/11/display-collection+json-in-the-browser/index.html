<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/output.css">
  <link rel="stylesheet" href="/style.css">
</head>
<body>
        <!--[if lt IE 7]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
        <![endif]--><nav role="navigation" class="blog-masthead">
  <div class="container">
    
    
      <div class="blog-nav">
        
          
          
          
            <a class="blog-nav-item" href="/">
              Home
            </a>
          
        
          
          
          
            <a class="blog-nav-item" href="/useful_links/">
              Useful Links
            </a>
          
        
          
          
          
            <a class="blog-nav-item" href="/archive/">
              Blog Archives
            </a>
          
        
      </div>
    
  </div>
</nav>
<header class="container w-full py-10">
  <div class="w-full">
    <div class="flex flex-col md:flex-row justify-between w-full">
      <div class="md:w-auto mb-4 md:mb-0">
        <h1 class="text-6xl font-normal mb-4">
          <a href="/" class="text-blue-550">gabrewer.com</a>
        </h1>
        
          <p class="text-xl text-neutral-400">Life is too important to be take seriously.</p>
        
      </div>
      <div class="w-full md:w-auto flex flex-col items-end">
        <ul class="">
          <li>
            <a
              href="/feed/feed.xml"
              rel="subscribe-rss"
              title="subscribe via RSS"
              class="text-blue-550"
              >RSS</a
            >
          </li>
          <li>
            <a
              href="/feed/feedlinks.xml"
              rel="subscribe_rss_link"
              title="subscribe via RSS"
              class="text-blue-550"
              >RSS Useful Links</a
            >
          </li>
          
        </ul>
        
          <form action="https://www.google.com/search" method="get">
            <fieldset role="search" class="border border-solid border-black">
              <input type="hidden" name="q" value="site:https://gabrewer.com/">
              <input type="text" name="q" results="0" placeholder="Search" class="w-full p-2">
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</header>
<main class="page-content" aria-label="Content">
            
<div class="post">
  <h2>Display Collection+JSON in the browser</h2>
  <p class="meta">Wednesday, November 19, 2014 at 3:39 AM UTC</p>

  <p>In the last year I have become enamored with Hypermedia APIs and the Collection+JSON API in particular that I first came across in <a href="https://web.archive.org/web/20150504224635/http://www.amundsen.com/">Mike Amundsen’s</a> book <a href="https://web.archive.org/web/20150504224635/http://www.amazon.com/gp/product/1449306578/ref=as_li_tl?ie=UTF8&amp;camp=1789&amp;creative=390957&amp;creativeASIN=1449306578&amp;linkCode=as2&amp;tag=gabrewercom-20&amp;linkId=KMQMXVBUV5L3CBI5">Building Hypermedia APIs with HTML5 and Node</a><img src="https://web.archive.org/web/20150504224635im_/http://ir-na.amazon-adsystem.com/e/ir?t=gabrewercom-20&amp;l=as2&amp;o=1&amp;a=1449306578" alt="">.  It seems to be a perfect fit for many of the APIs that I have been working on.  Glenn Block created the <a href="https://web.archive.org/web/20150504224635/https://github.com/WebApiContrib/CollectionJson.Net">CollectionJson.Net</a> library to make it easy to create Collection+JSON based ASP.NET Web APIs.</p>
<p>However when I browse to a WebAPI endpoint that returns a Collection+JSON result in Internet Explorer or Firefox I get a prompt to download the file.</p>
<p><a href="collectionjson_thumb1.png"><img src="/images/collectionjson_thumb1.png" alt="image" title="image"></a></p>
<p><a href="/images/collectionjson_thumb2.png"><img src="/images/collectionjson_thumb2.png" alt="image" title="image"></a></p>
<p>Chrome displays the raw JSON result in a more friendly manner.</p>
<p><a href="/images/image_thumb2.png"><img src="/images/image_thumb2.png" alt="image" title="image"></a></p>
<p><span id="more-1201"></span></p>
<p>Although Fiddler or the browser debug tools make it fairly easy to see the results as JSON sometimes it is convenient to see the results rendered directly in the browser.</p>
<p>I found an <a href="https://web.archive.org/web/20150504224635/http://weblog.west-wind.com/posts/2011/Apr/01/Displaying-JSON-in-your-Browser">old post</a> from Rick Strahl’s blog regarding how to display application/json.  He suggests using JSONView for Firefox and adding a registry entry for Internet Explorer.  I was able to easily tweak the Internet Explorer registry keys to handle vnd.collection+json.  Unfortunately JSONView for Firefox will not work for the application/vnd.collection+json media type. <a href="https://web.archive.org/web/20150504224635/https://github.com/bhollis/jsonview/issues/7" title="https://github.com/bhollis/jsonview/issues/7">https://github.com/bhollis/jsonview/issues/7</a></p>
<p>For internet Explorer it is just a matter of changing the Content type entered in the registry from application/json to application/vnd.collection+json</p>
<p>Create a new application/vnd.collection+json key in:</p>
<ul>
<li>HKEY_CLASSES_ROOT\MIME\Database\ContentType**application/vnd.collection+json**</li>
<li>Add a string value of CLSID with a value of {25336920-03F9-11cf-8FD0-00AA00686F13} (the CLSID for the “Browse in place” action)</li>
<li>Add a DWORD value of Encoding with a hex value of 0x00080000</li>
</ul>
<pre class="highlight prettyprint">[HKEY_CLASSES_ROOT\MIME\Database\Content Type\application/vnd.collection+json]
“CLSID”=”{25336920-03F9-11cf-8FD0-00AA00686F13}”
“Encoding”=hex:08,00,00,00

</pre>
<p><a href="/images/image3.png"><img src="/images/image_thumb3.png" alt="image" title="image"></a></p>
<p>Now Collection_JSON results will display directly in Internet Explorer.</p>
<p><a href="/images/image4.png"><img src="/images/image_thumb4.png" alt="image" title="image"></a></p>
<p>For Firefox it was just a matter of specifying the application to open the media type as Firefox.</p>
<p><a href="/images/image5.png"><img src="/images/image_thumb5.png" alt="image" title="image"></a></p>
<p>This adds the application/vnd.collection+json media type to the Applications list in the Firefox Options dialog.</p>
<p><a href="/images/image6.png"><img src="/images/image_thumb6.png" alt="image" title="image"></a></p>
<p>And now Collection+JSON results will display directly in the Firefox window.</p>
<p><a href="/images/image7.png"><img src="/images/image_thumb7.png" alt="image" title="image"></a></p>
<p>This technique will work for other types of +json media types as well such as Mason (application/vnd.mason+json) and HAL (application/vnd.hal+json).</p>

  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = '/2014/11/display-collection+json-in-the-browser/';
      this.page.identifier = '/2014/11/display-collection+json-in-the-browser/';
    };

    (function () {
      var d = document,
        s = d.createElement('script');
      s.src = 'https://gabrewer.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
  </noscript>

</div><div class="sidebar">
  <div class="sidebar-module sidebar-module-inset">
    <h4>About</h4>
    <div class="contact">
      <p>
        Gregory A Brewer<br>
        Proud Step Father, Software Engineer, Poker Player, Wolverine<br>
        <a href="mailto:greg@gabrewer.com">greg@gabrewer.com</a>
      </p>
      <p>
        <a href="https://github.com/gabrewer">github.com/gabrewer</a><br>
        <a href="https://twitter.com/gbrewer">twitter.com/gbrewer</a><br>
      </p>
    </div>
  </div>

  <div class="categories">
    
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/ASP.NET/"> ASP.NET</a>
      </span>
    
      <span style="font-size: 182.38095238095238%">
        <a href="/category/Development/"> Development</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/WCF/"> WCF</a>
      </span>
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/WEBAPI/"> WEBAPI</a>
      </span>
    
      <span style="font-size: 139.52380952380952%">
        <a href="/category/PowerShell/"> PowerShell</a>
      </span>
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/Tools/"> Tools</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Software/"> Software</a>
      </span>
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/Visual Studio/"> Visual Studio</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Windows Server/"> Windows Server</a>
      </span>
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/Hardware/"> Hardware</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Lenovo/"> Lenovo</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/SQL Server/"> SQL Server</a>
      </span>
    
      <span style="font-size: 139.52380952380952%">
        <a href="/category/JavaScript/"> JavaScript</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/MVC/"> MVC</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Clustering/"> Clustering</a>
      </span>
    
      <span style="font-size: 144.28571428571428%">
        <a href="/category/Hyper-V/"> Hyper-V</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Node.js/"> Node.js</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/IIS/"> IIS</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/WordPress/"> WordPress</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Networking/"> Networking</a>
      </span>
    
      <span style="font-size: 134.76190476190476%">
        <a href="/category/Random/"> Random</a>
      </span>
    
  </div>

  <div class="sidebar-module">
    <div class="textwidget">
      <a class="twitter-timeline" data-height="600" href="https://twitter.com/gbrewer?ref_src=twsrc%5Etfw">
        Tweets by gbrewer
      </a>
      <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  </div>
</div>

        </main><footer class="bg-gray-300 py-3">
  <div class="container mx-auto">
    <div class="grid grid-cols-2 gap-8">
      <div class="">
        <h2 class="text-3xl mb-2">gabrewer.com</h2>
        <h3 class="text-xl text-neutral-400 mb-2">Life is too important to be take seriously.</h3>
        <ul class="list-disc pl-6"><li class="list-item">
              Greg Brewer
            </li><li>
              <a class="u-email text-blue-600 list-item" href="mailto:greg@gabrewer.com">greg@gabrewer.com</a>
            </li></ul>
      </div>
      <div class="">
        <p class="text-xl text-gray-600"></p>
      </div>
    </div>
  </div>
</footer>
<script src="" async defer></script>
        <script id="dsq-count-scr" src="//gabrewer.disqus.com/count.js" async></script>
    </body>
</html>
